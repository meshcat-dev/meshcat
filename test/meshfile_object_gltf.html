<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>MeshCat</title>
	</head>
	<body>
        <div id="meshcat-pane">
        </div>

        <script src="main.min.js"></script>
        <script>
            var viewer = new MeshCat.Viewer(document.getElementById("meshcat-pane"));

let gltf_contents = `
{
	"asset":{
		"version":"2.0"
	},
	"scene":0,
	"scenes":[
		{
			"name":"Scene",
			"nodes":[
				0
			]
		}
	],
	"nodes":[
		{
			"mesh":0,
			"name":"cube",
			"rotation":[
				0.7071068286895752,
				0,
				0,
				0.7071068286895752
			]
		}
	],
	"materials":[
		{
			"name":"default",
			"pbrMetallicRoughness":{
				"baseColorTexture":{
					"index":0
				},
				"metallicFactor":0.5,
				"roughnessFactor":0.06363635510206223
			}
		}
	],
	"meshes":[
		{
			"name":"meshcat_cube",
			"primitives":[
				{
					"attributes":{
						"POSITION":0,
						"TEXCOORD_0":1,
						"NORMAL":2
					},
					"indices":3,
					"material":0
				}
			]
		}
	],
	"textures":[
		{
			"sampler":0,
			"source":0
		}
	],
	"images":[
		{
			"bufferView":4,
			"mimeType":"image/png",
			"name":"cube"
		}
	],
	"accessors":[
		{
			"bufferView":0,
			"componentType":5126,
			"count":24,
			"max":[
				1,
				1,
				0
			],
			"min":[
				0,
				0,
				-1
			],
			"type":"VEC3"
		},
		{
			"bufferView":1,
			"componentType":5126,
			"count":24,
			"type":"VEC2"
		},
		{
			"bufferView":2,
			"componentType":5126,
			"count":24,
			"type":"VEC3"
		},
		{
			"bufferView":3,
			"componentType":5123,
			"count":36,
			"type":"SCALAR"
		}
	],
	"bufferViews":[
		{
			"buffer":0,
			"byteLength":288,
			"byteOffset":0,
			"target":34962
		},
		{
			"buffer":0,
			"byteLength":192,
			"byteOffset":288,
			"target":34962
		},
		{
			"buffer":0,
			"byteLength":288,
			"byteOffset":480,
			"target":34962
		},
		{
			"buffer":0,
			"byteLength":72,
			"byteOffset":768,
			"target":34963
		},
		{
			"buffer":0,
			"byteLength":769,
			"byteOffset":840
		}
	],
	"samplers":[
		{
			"magFilter":9729,
			"minFilter":9987
		}
	],
	"buffers":[
		{
			"byteLength":1612,
			"uri":"data:application/octet-stream;base64,AACAPwAAAAAAAIC/AACAPwAAAAAAAIC/AACAPwAAAAAAAIC/AACAPwAAAAAAAACAAACAPwAAAAAAAACAAACAPwAAAAAAAACAAAAAAAAAAAAAAACAAAAAAAAAAAAAAACAAAAAAAAAAAAAAACAAAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAACAPwAAgD8AAACAAACAPwAAgD8AAACAAACAPwAAgD8AAACAAACAPwAAgD8AAIC/AACAPwAAgD8AAIC/AACAPwAAgD8AAIC/AAAAAAAAgD8AAIC/AAAAAAAAgD8AAIC/AAAAAAAAgD8AAIC/mpmZPgAAID+amZk+AABgP5qZGT8AAMA+mpmZPgAAwD6amZk+AAAgP5qZGT8AAMA+zcxMPgAAwD6amZk+AADAPpqZmT4AACA/zcxMPgAAwD6amZk+AAAgP5qZmT4AAGA/zcxMPgAAwD6amZk+AAAAPpqZmT4AAMA+mpmZPgAAAD6amZk+AADAPpqZGT8AAMA+mpmZPgAAAD6amZk+AABgP5qZGT8AAMA+zcxMPgAAwD6amZk+AAAAPpqZmT4AAGA/AAAAAAAAgL8AAACAAAAAAAAAAAAAAIC/AACAPwAAAAAAAACAAAAAAAAAAAAAAIA/AAAAAAAAgL8AAACAAACAPwAAAAAAAACAAACAvwAAAAAAAACAAAAAAAAAAAAAAIA/AAAAAAAAgL8AAACAAACAvwAAAAAAAACAAAAAAAAAgL8AAACAAAAAAAAAAAAAAIC/AACAvwAAAAAAAACAAAAAAAAAgD8AAACAAAAAAAAAAAAAAIA/AAAAAAAAgD8AAACAAAAAAAAAAAAAAIA/AACAPwAAAAAAAACAAAAAAAAAgD8AAACAAAAAAAAAAAAAAIC/AACAPwAAAAAAAACAAACAvwAAAAAAAACAAAAAAAAAgD8AAACAAAAAAAAAAAAAAIC/AAAEAAgACAAKAAAADQAPABIAEgAWAA0ABwADABAAEAAOAAcABQACABQAFAARAAUAAQALABcAFwATAAEACQAGAAwADAAVAAkAiVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9Ta0UqghYRcchQnSyIijhqFYpQodQKrTqYXPoFTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxdXFSdJES/5cUWsR4cNyPd/ced+8AoV5mqtkxDqiaZaTiMTGTXRWDr+jEAALoR5/ETH0umUzAc3zdw8fXuyjP8j735+hRciYDfCLxLNMNi3iDeHrT0jnvE4dZUVKIz4nHDLog8SPXZZffOBccFnhm2Ein5onDxGKhjeU2ZkVDJZ4ijiiqRvlCxmWF8xZntVxlzXvyF4Zy2soy12kOI45FLCEJETKqKKEMC1FaNVJMpGg/5uEfcvxJcsnkKoGRYwEVqJAcP/gf/O7WzE9OuEmhGBB4se2PESC4CzRqtv19bNuNE8D/DFxpLX+lDsx8kl5raZEjoHcbuLhuafIecLkDDD7pkiE5kp+mkM8D72f0TVmg/xboXnN7a+7j9AFIU1eJG+DgEBgtUPa6x7u72nv790yzvx8g0HKGEVEokAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cGGwYIMCVAYrIAAAD+SURBVFjD7ZaxagJBEIa/UQ8kha0QuTTa3hPkCQKWBxaxEps01oeFaCHxOQLptrPwAcSXEFOFQ7C0EJtkbbZYg6DiEY+7/auZnS2WnZlvBvIuOXch1K9NoGrcuZLPZZIPKF1wJwKejd0FEn1A4d4pKODklDYOhGPtAx2AQXnaCLyPthUeSU8NjzkR14GVfaakJrdw4AkYAqx/H7+D45jOXBue+oEtsAB4kJ0A/jXoTnwWnJ8VsWfSZtfAl2uv7OwDs1BHQMO4qxclk//eB5rWPrAAJpniQCpB9FctoGzsvWub/HFA/4Q2B/pSVJt7cuAd2OSuDd+AirFjV7VJ6wBk+i4h+YJMLwAAAABJRU5ErkJgggAAAA=="
		}
	]
}
`;

        viewer.handle_command({
            type: "set_object",
            path: "/meshcat/mesh_test",
            object: {
                metadata: {version: 4.5, type: "Object"},
                geometries: [],
                materials: [],
                object: {
                    uuid: "00c2baef-9600-4c6b-b88d-7e82c40e004f",
                    type: "_meshfile_object",
                    format: "gltf",
                    data: gltf_contents
                }
            }
        });
        </script>


         <style>
            body {
                margin: 0;
            }

            #meshcat-pane {
                width: 100vw;
                height: 100vh;
                overflow: hidden;
            }
        </style>
	</body>
</html>
